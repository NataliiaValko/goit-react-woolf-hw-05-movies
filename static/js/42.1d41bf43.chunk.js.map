{"version":3,"file":"static/js/42.1d41bf43.chunk.js","mappings":"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","sources":["components/Loader/Loader.jsx","webpack://goit-react-woolf-hw-05-movies/./src/pages/MovieDetailsPage/MovieDetailsPage.module.css?9108","pages/MovieDetailsPage/MovieDetailsPage.jsx","service/tmdbApi.js"],"sourcesContent":["import { RotatingLines } from \"react-loader-spinner\";\n\nconst Loader = () => {\n  return <RotatingLines />;\n};\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"MovieDetailsPage_section__yOGhJ\",\"link\":\"MovieDetailsPage_link__rhdjc\",\"list\":\"MovieDetailsPage_list__xeLC8\",\"navLink\":\"MovieDetailsPage_navLink__thqED\",\"active\":\"MovieDetailsPage_active__52Wu-\"};","import { useState, useRef, useEffect, Suspense } from \"react\";\nimport {\n  useParams,\n  Link,\n  Outlet,\n  useLocation,\n  NavLink,\n} from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport clsx from \"clsx\";\n\nimport fetchFunctions from \"../../service/tmdbApi\";\nimport Loader from \"../../components/Loader/Loader\";\n\nimport styles from \"./MovieDetailsPage.module.css\";\n\nconst buildLinkClass = ({ isActive }) => {\n  return clsx(styles.navLink, isActive && styles.active);\n};\n\nconst MovieDetailsPage = () => {\n  const [dataMovie, setDataMovie] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const location = useLocation();\n\n  const { movieId } = useParams();\n  const backLinkRef = useRef(location.state || \"/movies\");\n\n  useEffect(() => {\n    if (!movieId) return;\n\n    const fetchData = async () => {\n      setIsLoading(true);\n\n      try {\n        const data = await fetchFunctions.fetchMovieDetailsByMovieId(movieId);\n        setDataMovie(data);\n      } catch (error) {\n        toast.error(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [movieId]);\n\n  return (\n    <>\n      <section className={styles.section}>\n        {\" \"}\n        <Link to={backLinkRef.current} className={styles.link}>\n          Go to back\n        </Link>\n        {isLoading && <Loader />}\n        {dataMovie && (\n          <>\n            <img\n              src={\n                dataMovie.backdrop_path\n                  ? `https://image.tmdb.org/t/p/w500${dataMovie.backdrop_path}`\n                  : \"https://live.staticflickr.com/65535/51349451747_f6d7898f2c_n.jpg\"\n              }\n              alt={dataMovie.title}\n            />\n            <h2>{dataMovie.title}</h2>\n            <p>\n              Genres: {dataMovie.genres.map(({ name }) => name).join(\", \")}\n            </p>{\" \"}\n            <h3>Additional information</h3>\n            <ul className={styles.list}>\n              <li className={styles.item}>\n                <NavLink to=\"cast\" className={buildLinkClass}>\n                  Cast\n                </NavLink>\n              </li>{\" \"}\n              <li className={styles.item}>\n                <NavLink to=\"reviews\" className={buildLinkClass}>\n                  Reviews\n                </NavLink>\n              </li>\n            </ul>{\" \"}\n            <Suspense fallback={<Loader />}>\n              <Outlet />\n            </Suspense>\n          </>\n        )}\n        {!isLoading && !dataMovie && (\n          <p>{\"We don't have information for this movie\"}</p>\n        )}\n      </section>\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n","import axios from \"axios\";\n\nconst API_KEY =\n  \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1ZWQyZjA4ZDRlMDFmNjNlNDA0MjMwMzRhYmFhZDYzOSIsInN1YiI6IjY0MjNmMmU4NjkwNWZiMDA3N2VmYjE4ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.B1yTjebLF7cIuJcxcmeRj9NgGgh_7fZlQAA8C7F6xjQ\";\nconst BASE_URL = \"https://api.themoviedb.org/3\";\n\nconst options = {\n  headers: {\n    Authorization: `Bearer ${API_KEY}`,\n  },\n};\n\nconst fetchTrendingMovies = async () => {\n  const { data } = await axios(`${BASE_URL}/trending/movie/day`, options);\n  return data;\n};\n\nconst fetchMovieByQuery = async (query) => {\n  const { data } = await axios(\n    `${BASE_URL}/search/movie?query=${query}`,\n    options\n  );\n  return data;\n};\n\nconst fetchMovieDetailsByMovieId = async (movieId) => {\n  const { data } = await axios(`${BASE_URL}/movie/${movieId}`, options);\n  return data;\n};\n\nconst fetchCreditsByMovieId = async (movieId) => {\n  const { data } = await axios(`${BASE_URL}/movie/${movieId}/credits`, options);\n  return data;\n};\n\nconst fetchReviewsByMovieId = async (movieId) => {\n  const { data } = await axios(`${BASE_URL}/movie/${movieId}/reviews`, options);\n  return data;\n};\n\nconst data = {\n  fetchTrendingMovies,\n  fetchMovieByQuery,\n  fetchMovieDetailsByMovieId,\n  fetchCreditsByMovieId,\n  fetchReviewsByMovieId,\n};\n\nexport default data;\n"],"names":["_jsx","RotatingLines","buildLinkClass","_ref","isActive","clsx","styles","_useState","useState","_useState2","_slicedToArray","dataMovie","setDataMovie","_useState3","_useState4","isLoading","setIsLoading","location","useLocation","movieId","useParams","backLinkRef","useRef","state","useEffect","fetchData","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","fetchFunctions","sent","t0","toast","message","finish","stop","apply","arguments","_Fragment","children","_jsxs","className","Link","to","current","Loader","src","backdrop_path","concat","alt","title","genres","map","_ref3","name","join","NavLink","Suspense","fallback","Outlet","BASE_URL","options","headers","Authorization","fetchTrendingMovies","_yield$axios","axios","abrupt","fetchMovieByQuery","_callee2","query","_yield$axios2","_context2","_x","fetchMovieDetailsByMovieId","_callee3","_yield$axios3","_context3","_x2","fetchCreditsByMovieId","_ref4","_callee4","_yield$axios4","_context4","_x3","fetchReviewsByMovieId","_ref5","_callee5","_yield$axios5","_context5","_x4"],"sourceRoot":""}